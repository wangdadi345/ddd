# python的使用与不同

- 在windows中运行时打开命令提示符,输入python ,进入python ,就可以使用了.在python没有{}都被:与缩进代替了。在python有新的关键词in,not in

## 字符串

- .title表示首字母大写,upper表示全大写,lower表示全小写.rstrip()可以用来删除空格,并返回删除后的变量.str(变量)将非字符串的变量以字符串的形式输出.

## 列表

- 引索为-1表示访问最后一位,-n表示倒数第n位,数列用[]括住，用''表示一个元素,. **append** 在列表最后一位添加新成员,  *insert* (引索,'成员变量')插入元素, *del* 数列[引索]表示删除, **.pop**可以返回被删除的值,.**remove**('成员变量'),删除引索未知的成员时（只能删除一个,若包含多个要使用循环）

### 组织列表

- **.sort()**(永久地改变列表，使其按首字母顺序排列),括号内加*reverse=True*表示倒序排列.**sorted**返回改变后的列表，不改变原列表顺序.**reverse**永久地改变列表（倒序输出，想改回来就在用一次），**len**测量数列长度并返回一个整型。

### 列表操作

- **遍历** **for a in as :**,a表示设计的一个变量，as表示列表.该语句之后**回车的**都表示在循环内部，想要结束循环即将语句往前几格.(在遍历之前要先检查列表是否为空，(即if as:))

- **创建列表** **range()**例如range(1,5)会生成从1到4的数字，接着用list()将其转化为列表即：**list(range(1,4))**,同时可以决定步长如**list(range(1,11,2))**表示1到10的偶数。

- 针对数字列表的函数，min,sum,max 懂得抖动

#### 列表解析 

squares = [value**2 for value in range(1,11)]产生一个1到10的平方的列表的简介形式自己看吧

#### 你还可以处理列表的部分元素——Python称之为切片

as=[1,2,3,4,5,6]  print(a[0:3])表示输出0到2的成员还有print(a[:4])与print(a[1:])以及print(a[-3:])都是合法的

- **遍历切片**for player in players[:3]:  **复制列表的内容** friend_foods = my_foods[:]，friend_foods = my_foods不行

## 元组

- 与列表很像只是其成员不可改变，形式 a=()

- 虽然元组成员不可改变但可以重新定义元组，使其成员的值发生变化

##代码的格式

- 每级缩进都使用四个空格，在字处理文档中，大家常常使用制表符而不是空格来缩进，代码每行不超过80字符，注释的行长都不超过72字符，不同部分分开，可使用空行，用一个空行。

## if语句

-  在c语言中的&&与||变成了and or.**in**在python中用来检测某成员是否在列表中（'a' in as）判断a是否在as中,**同时还有not in**  
  
- if-elif-else,elif代替了else if

### if语句的格式建议

在==,!=等符号两边加上空格

## 字典(动态结构)(集合也是用{}括住的)

- 例子：students(字典名)，students={'name':'dadi','year'='11'},引用students['name']，在字典中加入(更改)新的成员时直接这样：students['sex']='male',

- 删除与列表的方法一样（del）,。确定需要使用多行来定义字典时，在输入左花括号后按回车
 键，再在下一行缩进四个空格，指定第一个键—值对，并在它后面加上一个逗号。此后你再次按
 回车键时，文本编辑器将自动缩进后续键—值对，且缩进量与第一个键—值对相同

- 在访问键时，建可能不存在导致访问失败。所以有了新函数  .gets()  括号内前者是访问的键的名字，后者是如果错误返回的值 

- **字典的便利**  for key, value in user_0.items():**.items**关键字用来返回字典中的键值对列表。**.keys**用来返回键值，（python中不特别强调默认访问键值）**.values**用来返回值，**set**返回一个集合集合中无重复值

## 嵌套

- 字典列表 列表成员是字典**P96**

- 列表字典  for name, languages in favorite_languages.items():
  print("\n" + name.title() + "'s favorite languages are:")
  for language in languages:
  print("\t" + language.title())

- 字典套字典 **（尽量是被嵌套的字典的结构相同）** **P99**

## while循环

- message=input（和括号里的是输出的加一个括号方便与输入的内容区分开）（接着用户输入一段字符串，储存到变量中）返回的是字符串

- 使用标志 当判断循环结束的条件有很多时，可以引入一个新的变量（标志），当其他条件不符合时将标志改了。

- while与字典的结合，当用字典储存用户信息时可以运用while循环与标志的结合（没有用户输入时改变标志）

## 函数（引用函数时只要传入了默认值的变量就会改变么）

- def(定义函数)，函数的注释在缩进中用“”“ ”“”括住

- 形参，实参的传递既可以是**按顺序的位置实参（与c语言一样）**或者是**关键字实参（将定义函数时的变量加一个等号）**如：describe_pet(animal_type='hamster', pet_name='harry')

- 形参 形参的默认值如，def describe_pet(pet_name, animal_type='dog'):**尽量将有默认值的变量放在后边**

- 返回仍然用return,有的时候函数所需要的形参并不是一定需要如**外国人的名字可能有三部分可能有两部分，中间的就是不确定是否需要的**就把中间部分作为默认值（空格）用了再改

- 字典（在函数内部建一个字典再返回），传递字典或列表（在函数外键一个列表在传进去，对形参无任何要求）**在函数内对列表与字典的改变是永久的**

- 如何禁止函数对列表的改变，只是将列表的副本传进去（用切片）如print_models(unprinted_designs[:], completed_models)

- 传递任意数量的实参（特殊形参*toppings）不管有几个实参都会被他记录**特殊形参要放在最后（防止影响其他形参的记录）**同时在一个形参前加两个星号表示它是一个储存任意实参变量的字典

### 模块 

 -函数导入到模块中**import**使用其他模块（文件）的函数（使用之前必须加上模块名）
import pizza ，
pizza.make_pizza(16, 'pepperoni‘)，
pizza.make_pizza(12, 'mushrooms', 'green peppers', 'extra cheese'),

- 导入指定函数**from pizza import make_pizza**

- 给模块换个名字**import pizza as p**,from pizza import *表示导入全部函数（可以直接用函数

- 函数编写要求 应给函数指定描述性名称，且只在其中使用小写字母和下划线而且要包含函数的注释方便理解，如果程序或模块包含多个函数，可使用两个空行将相邻的函数分开，如果形参很多，导致函数定义的长度超过了79字符， 可在函数定义中输入左括号后按回车键，并在下一行按两次Tab键，从而将形参列表和只缩进一 层的函数体区分开来。

## 类（首字母大写的字母表示类）（一般一个类由多个函数组成）

- 创建类关键词用class,类中存在的函数称为方法，_init_方法(用于储存信息的方法),包含三个形参**self,name,age**其中self会自动传入,所以要放在第一位（P141）,并且在self方法内定义的变量都必须有self的前缀，

- 访问属性（即变量）**self.变量(不同情况self不同)**，其中self表示该类的实例，**他会在创建时自动传递给等号左边**

- 调用方法就是self.方法

- 属性的默认值与更改，在类中**self.变量=默认值**，改变属性：1直接修改（self.属性=）；2通过方法改变（在类中建一个方法），3通过方法增加

## 继承

- 创建新的类为了继承原来类的属性与方法需要（student,与newstudent均为类）：class Newstudent(Studeent),def \_init\_(属性)（初始化属性不用再用其他的操作即可访问这些属性）super().\_init\_(属性)用来继承方法

- **给子类新的属性与方法**，与类的一样，同时父类中无用的的属性与方法要在子类中进行修改

- **将一个大类重组成几个小类（P153）**，再该大类的定义之前，先定义一个小类（无需继承，用来代表一类特定信息），接着在大类中引用改小类，从而实现组合

- 导入类（模块） **from car(文件名) import Car,ElectricCar(类的名字)

- **在一个模块中导入另一个模块**P159

- 类也可以起别名， from electric_car import ElectricCar as ElectricCar

- 在使用模块与类时，现将全部代码写在一个程序中，正常运行后再分到不同模块中

- **类的代码风格**类名应采用驼峰命名法，即将类名中的每个单词的首字母都大写，而不使用下划线。实例名和模块名都采用小写格式，并在单词之间加上下划线，类与模块要用注释，

## 文件

- **访问文件（相同目录下的**要想访问文件首先要找到文件的路径，Python提供了pathlib模块，其中的Path可以指向一个文件**from pathlib import Path，path=Path('pi_digits.txt')**其中path代表了该文件的路径

- 读取文件 **.read_text()**,它会将文件中的内容以字符串的形式返回，contents=path.read_text(),但是返回的结果会多一空行，函数.rstrip()可以将空行删除

- **访问不同文件夹中的文件**path=Path('目录名/文件名')或(绝对地址)，**逐行访问文件**函数.splitlines(),会返回一个列表包含每一行，再通过循环打印出来

- **改变文件内容**函数.rstrip()可以将空行删除，函数.lstrip()可以删除空格

- 写入文件，写入一行.write_text(""),要写入多行时，可以创建一个变量储存如下字符串接着写入该变量

- **异常** 常见异常 ZeroDivisionError(除以0)，FileNotFoundError(找不到文件)代码块try-except（错误类型）：（措施）（尝试以下代码，如果就P173）。当出现错误时可以用pass函数无视异常

- **分析文本** 函数.split以空白为分隔符将文本分成几部分，以列表形式返回，在使用.len函数查字数

- **储存数据** JSON格式（一种通用格式），josn模块使用前先import，函数josn.dumps(字符串变量)返回一个JOSN格式的字符串，函数josn.loads()将JOSN格式的字符串作为参数返回一个Python对象

- **重构**将一个程序分成几个函数

## 测试代码（就相当于程序帮你调试检查代码看结果是否正确）

- 使用pytest进行测试，测试文件以test_打头（pytest会寻找test_开头的文件进行测试），文件中要测试的函数也以test开头

- **断言**assert（用于检查字符串），后接条件用来判断条件是否符合**其他断言见P195**

- **运行测试**不只是简单的运行而是在终端上输入pytest,如果测试未通过不要修改测试而是修改她提到的有问题的部分

- **测试类**，与函数差不多，不过检查类主要检查类中的方法是否正常

- **使用夹具**